!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1),i=n(2);e.exports={Transport:r,LocalTransport:i}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.options=t,this._cache=new Map,this._cacheSize=t.cacheSize||20,this._cacheTimeout=t.cacheTimeout||5e3}return r(e,[{key:"getId",value:function(){return null}},{key:"handleOutgoingSignal",value:function(e,t){}},{key:"listen",value:function(e){}},{key:"handleResponseSignal",value:function(e,t,n){}},{key:"getContext",value:function(e){return e&&e.id?this._cache.get(e.id):null}},{key:"saveContext",value:function(e,t){this.cleanupSignalCache();var n=e;n||(n={}),n.signal=t,n.timestamp=(new Date).getTime(),this._cache.set(t.id,n)}},{key:"cleanupSignalCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._cache.size>this._cacheSize||e){var t=(new Date).getTime(),n=!0,r=!1,i=void 0;try{for(var o,s=this._cache.keys()[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value;this._cache.get(c).timestamp+this._cacheTimeout<t&&this._cache.delete(c)}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}}}},{key:"cacheSize",get:function(){return this._cacheSize},set:function(e){this._cacheSize=e}},{key:"cacheTimeout",get:function(){return this._cacheTimeout},set:function(e){this._cacheTimeout=e}}]),e}();e.exports=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),a=n(3),u=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return o.name=e,o}return o(t,e),s(t,[{key:"getId",value:function(){return this.name}},{key:"handleOutgoingSignal",value:function(e,n){t.ee.emit("signal-"+this.name,e,n)}},{key:"listen",value:function(e){t.ee.on("signal-"+this.name,function(t,n){var r={respond:n};e(r,t)})}},{key:"handleResponseSignal",value:function(e,t,n){if(e){var r=e.respond;if(!r)return n(new Error("Can not find the request object for signal: "+t.id));try{t.error?r(t.error):r(null,t.payload)}catch(e){return n(e)}n()}}}]),t}(c);u.ee=new a,e.exports=u},function(e,t,n){"use strict";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(){this._events=new r,this._eventsCount=0}var s=Object.prototype.hasOwnProperty,c="~";Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(c=!1)),o.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)s.call(e,t)&&n.push(c?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},o.prototype.listeners=function(e,t){var n=c?c+e:e,r=this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},o.prototype.emit=function(e,t,n,r,i,o){var s=c?c+e:e;if(!this._events[s])return!1;var a,u,h=this._events[s],f=arguments.length;if(h.fn){switch(h.once&&this.removeListener(e,h.fn,void 0,!0),f){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,t),!0;case 3:return h.fn.call(h.context,t,n),!0;case 4:return h.fn.call(h.context,t,n,r),!0;case 5:return h.fn.call(h.context,t,n,r,i),!0;case 6:return h.fn.call(h.context,t,n,r,i,o),!0}for(u=1,a=new Array(f-1);u<f;u++)a[u-1]=arguments[u];h.fn.apply(h.context,a)}else{var l,v=h.length;for(u=0;u<v;u++)switch(h[u].once&&this.removeListener(e,h[u].fn,void 0,!0),f){case 1:h[u].fn.call(h[u].context);break;case 2:h[u].fn.call(h[u].context,t);break;case 3:h[u].fn.call(h[u].context,t,n);break;case 4:h[u].fn.call(h[u].context,t,n,r);break;default:if(!a)for(l=1,a=new Array(f-1);l<f;l++)a[l-1]=arguments[l];h[u].fn.apply(h[u].context,a)}}return!0},o.prototype.on=function(e,t,n){var r=new i(t,n||this),o=c?c+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},o.prototype.once=function(e,t,n){var r=new i(t,n||this,!0),o=c?c+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},o.prototype.removeListener=function(e,t,n,i){var o=c?c+e:e;if(!this._events[o])return this;if(!t)return 0===--this._eventsCount?this._events=new r:delete this._events[o],this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||(0===--this._eventsCount?this._events=new r:delete this._events[o]);else{for(var a=0,u=[],h=s.length;a<h;a++)(s[a].fn!==t||i&&!s[a].once||n&&s[a].context!==n)&&u.push(s[a]);u.length?this._events[o]=1===u.length?u[0]:u:0===--this._eventsCount?this._events=new r:delete this._events[o]}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=c?c+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new r:delete this._events[t])):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=c,o.EventEmitter=o,e.exports=o}]);