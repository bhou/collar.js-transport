!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(1),i=n(2);e.exports={Transport:r,LocalTransport:i}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.options=t,this._cache=new Map,this._cacheSize=t.cacheSize||20,this._cacheTimeout=t.cacheTimeout||5e3}return r(e,[{key:"getId",value:function(){return null}},{key:"handleOutgoingSignal",value:function(e,t){}},{key:"listen",value:function(e){}},{key:"handleResponseSignal",value:function(e,t,n){}},{key:"getContext",value:function(e){return e&&e.id?this._cache.get(e.id):null}},{key:"saveContext",value:function(e,t){this.cleanupSignalCache();var n=e;n||(n={}),n.signal=t,n.timestamp=(new Date).getTime(),this._cache.set(t.id,n)}},{key:"cleanupSignalCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._cache.size>this._cacheSize||e){var t=(new Date).getTime(),n=!0,r=!1,i=void 0;try{for(var o,a=this._cache.keys()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var c=o.value;this._cache.get(c).timestamp+this._cacheTimeout<t&&this._cache.delete(c)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}}},{key:"cacheSize",get:function(){return this._cacheSize},set:function(e){this._cacheSize=e}},{key:"cacheTimeout",get:function(){return this._cacheTimeout},set:function(e){this._cacheTimeout=e}}]),e}();e.exports=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),u=n(3),s=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return o.name=e,o}return o(t,e),a(t,[{key:"getId",value:function(){return this.name}},{key:"handleOutgoingSignal",value:function(e,n){t.ee.emit("signal-"+this.name,e,n)}},{key:"listen",value:function(e){t.ee.on("signal-"+this.name,function(t,n){var r={respond:n};e(r,t)})}},{key:"handleResponseSignal",value:function(e,t,n){if(e){var r=e.respond;if(!r)return n(new Error("Can not find the request object for signal: "+t.id));try{t.error?r(t.error):r(null,t.payload)}catch(e){return n(e)}n()}}}]),t}(c);s.ee=new u,e.exports=s},function(e,t){e.exports=require("eventemitter3")}]);